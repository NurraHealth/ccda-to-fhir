{
  "description": "Expected failures for C-CDA documents that violate specifications",
  "categories": {
    "spec_violations": {
      "description": "Documents that violate C-CDA SHALL requirements - correctly rejected by parser",
      "files": [
        {
          "path": "ccda-samples/MedConnect/CECILIA CUMMINGS_20170808143810.xml",
          "vendor": "MedConnect",
          "reason": "Vital Sign Observation uses CD instead of required PQ for value element",
          "spec_requirement": "C-CDA SHALL: Vital Sign value must be xsi:type='PQ' (Physical Quantity)",
          "expected_error_pattern": "value SHALL be PQ \\(Physical Quantity\\), found CD",
          "spec_reference": "2.16.840.1.113883.10.20.22.4.27"
        },
        {
          "path": "ccda-samples/MedConnect/MYRA JONES_20170808141701.xml",
          "vendor": "MedConnect",
          "reason": "Vital Sign Observation uses CD instead of required PQ for value element",
          "spec_requirement": "C-CDA SHALL: Vital Sign value must be xsi:type='PQ' (Physical Quantity)",
          "expected_error_pattern": "value SHALL be PQ \\(Physical Quantity\\), found CD",
          "spec_reference": "2.16.840.1.113883.10.20.22.4.27"
        },
        {
          "path": "ccda-samples/MedConnect/SUSAN TURNER_20170808143241.xml",
          "vendor": "MedConnect",
          "reason": "Vital Sign Observation uses CD instead of required PQ for value element",
          "spec_requirement": "C-CDA SHALL: Vital Sign value must be xsi:type='PQ' (Physical Quantity)",
          "expected_error_pattern": "value SHALL be PQ \\(Physical Quantity\\), found CD",
          "spec_reference": "2.16.840.1.113883.10.20.22.4.27"
        },
        {
          "path": "ccda-samples/Medical Office Technologies/5492_6_Sample_ReferralNote.xml",
          "vendor": "Medical Office Technologies",
          "reason": "Vital Sign Observation uses CD instead of required PQ for value element; also misuses template for non-vital-sign data",
          "spec_requirement": "C-CDA SHALL: Vital Sign value must be xsi:type='PQ' (Physical Quantity)",
          "expected_error_pattern": "value SHALL be PQ \\(Physical Quantity\\), found CD",
          "spec_reference": "2.16.840.1.113883.10.20.22.4.27"
        },
        {
          "path": "ccda-samples/Medical Office Technologies/5597_12_ReferralNote.xml",
          "vendor": "Medical Office Technologies",
          "reason": "Vital Sign Observation uses CD instead of required PQ for value element; also misuses template for non-vital-sign data",
          "spec_requirement": "C-CDA SHALL: Vital Sign value must be xsi:type='PQ' (Physical Quantity)",
          "expected_error_pattern": "value SHALL be PQ \\(Physical Quantity\\), found CD",
          "spec_reference": "2.16.840.1.113883.10.20.22.4.27"
        },
        {
          "path": "ccda-samples/Advanced Technologies Group/SLI_CCD_b6AliceNewman_ATG_ATGEHR_10162017.xml",
          "vendor": "Advanced Technologies Group",
          "reason": "Smoking Status Observation missing required id element",
          "spec_requirement": "C-CDA SHALL: Smoking Status SHALL contain at least one [1..*] id (CONF:1098-32401)",
          "expected_error_pattern": "Smoking Status.*SHALL contain at least one.*id",
          "spec_reference": "2.16.840.1.113883.10.20.22.4.78"
        },
        {
          "path": "ccda-samples/Advanced Technologies Group/SLI_CCD_b6JeremyBates_ATG_ATGEHR_10162017.xml",
          "vendor": "Advanced Technologies Group",
          "reason": "Smoking Status Observation missing required id element",
          "spec_requirement": "C-CDA SHALL: Smoking Status SHALL contain at least one [1..*] id (CONF:1098-32401)",
          "expected_error_pattern": "Smoking Status.*SHALL contain at least one.*id",
          "spec_reference": "2.16.840.1.113883.10.20.22.4.78"
        },
        {
          "path": "ccda-samples/EHealthPartners/201710-0010123.xml",
          "vendor": "EHealthPartners",
          "reason": "Problem Observation statusCode uses nullFlavor='UNK' instead of required code='completed'",
          "spec_requirement": "C-CDA SHALL: Problem Observation SHALL contain statusCode with code='completed'",
          "expected_error_pattern": "Problem Observation.*statusCode SHALL be 'completed'",
          "spec_reference": "2.16.840.1.113883.10.20.22.4.4"
        },
        {
          "path": "ccda-samples/eRAD/Bates.xml",
          "vendor": "eRAD",
          "reason": "Problem Observation statusCode uses nullFlavor='NI' instead of required code='completed'",
          "spec_requirement": "C-CDA SHALL: Problem Observation SHALL contain statusCode with code='completed'",
          "expected_error_pattern": "Problem Observation.*statusCode SHALL be 'completed'",
          "spec_reference": "2.16.840.1.113883.10.20.22.4.4"
        }
      ]
    },
    "malformed_xml": {
      "description": "Documents with XML syntax errors - not fixable by parser",
      "files": [
        {
          "path": "C-CDA-Examples/Family History/Normal Family History Father deceased-Mother alive/Normal Family History Father deceased Mother alive(C-CDA2.1).xml",
          "reason": "Missing xmlns:sdtc namespace declaration while using sdtc:deceasedTime",
          "expected_error_pattern": "Namespace prefix"
        },
        {
          "path": "C-CDA-Examples/Results/Results of CO2 Test/Results of CO2 Test Normal(C-CDA2.1).xml",
          "reason": "Missing xmlns:xsi namespace declaration while using xsi:type",
          "expected_error_pattern": "Namespace prefix"
        },
        {
          "path": "C-CDA-Examples/Vital Signs/Growth Charts Examples/Growth Charts Example.xml",
          "reason": "Missing xmlns:xsi namespace declaration while using xsi:type",
          "expected_error_pattern": "Namespace prefix"
        },
        {
          "path": "C-CDA-Examples/Vital Signs/Panel of Vital Signs (Oxygen Concentration Included)/Panel of Vital Signs (Oxygen Concentration Included) (C-CDA2.1).xml",
          "reason": "Missing xmlns:xsi namespace declaration while using xsi:type",
          "expected_error_pattern": "Namespace prefix"
        },
        {
          "path": "ccda-samples/MDLogic/ContinuityOfCareDocument_MUBatJer_20170601-145724.xml",
          "reason": "Invalid xmlns:schemaLocation syntax (should be xsi:schemaLocation)",
          "expected_error_pattern": "schemaLocation|namespace"
        },
        {
          "path": "ccda-samples/MDLogic/ContinuityOfCareDocument_MUNewAli_20170601-145612.xml",
          "reason": "Invalid xmlns:schemaLocation syntax (should be xsi:schemaLocation)",
          "expected_error_pattern": "schemaLocation|namespace"
        },
        {
          "path": "ccda-samples/NextGen/AliceNewmanCCD.xml",
          "reason": "Duplicate xmlns:sdtc namespace declaration",
          "expected_error_pattern": "Attribute xmlns:sdtc redefined"
        },
        {
          "path": "C-CDA-Examples/Guide Examples/Basic Occupation Observation_2.16.840.1.113883.10.20.22.4.503/Basic Occupation Observation Example.xml",
          "reason": "Malformed XML - opening and ending tag mismatch",
          "expected_error_pattern": "Opening and ending tag mismatch"
        }
      ]
    },
    "vendor_bugs": {
      "description": "Vendor-specific bugs violating C-CDA spec - correctly rejected by strict parser",
      "files": [
        {
          "path": "ccda-samples/NextTech/10_20170710104504_SummaryOfCare.xml",
          "vendor": "NextTech",
          "reason": "Author.time incorrectly declares xsi:type='IVL_TS' but provides TS format (single value)",
          "spec_requirement": "C-CDA SHALL: author/time must be TS (point in time), not IVL_TS (interval)",
          "expected_error_pattern": "Input should be a valid dictionary or instance of TS"
        },
        {
          "path": "ccda-samples/NextTech/11_20170710104505_SummaryOfCare.xml",
          "vendor": "NextTech",
          "reason": "Author.time incorrectly declares xsi:type='IVL_TS' but provides TS format (single value)",
          "spec_requirement": "C-CDA SHALL: author/time must be TS (point in time), not IVL_TS (interval)",
          "expected_error_pattern": "Input should be a valid dictionary or instance of TS"
        },
        {
          "path": "ccda-samples/NextTech/12_20170710104505_SummaryOfCare.xml",
          "vendor": "NextTech",
          "reason": "Author.time incorrectly declares xsi:type='IVL_TS' but provides TS format (single value)",
          "spec_requirement": "C-CDA SHALL: author/time must be TS (point in time), not IVL_TS (interval)",
          "expected_error_pattern": "Input should be a valid dictionary or instance of TS"
        },
        {
          "path": "ccda-samples/NextTech/13_20170710104505_SummaryOfCare.xml",
          "vendor": "NextTech",
          "reason": "Author.time incorrectly declares xsi:type='IVL_TS' but provides TS format (single value)",
          "spec_requirement": "C-CDA SHALL: author/time must be TS (point in time), not IVL_TS (interval)",
          "expected_error_pattern": "Input should be a valid dictionary or instance of TS"
        },
        {
          "path": "ccda-samples/NextTech/5 - Larson, Rebecca Jones_2017-07-10 10_38_39_000.xml",
          "vendor": "NextTech",
          "reason": "Author.time incorrectly declares xsi:type='IVL_TS' but provides TS format (single value)",
          "spec_requirement": "C-CDA SHALL: author/time must be TS (point in time), not IVL_TS (interval)",
          "expected_error_pattern": "Input should be a valid dictionary or instance of TS"
        },
        {
          "path": "ccda-samples/NextTech/7 - Wright, John R_2017-07-10 10_38_39_000.xml",
          "vendor": "NextTech",
          "reason": "Author.time incorrectly declares xsi:type='IVL_TS' but provides TS format (single value)",
          "spec_requirement": "C-CDA SHALL: author/time must be TS (point in time), not IVL_TS (interval)",
          "expected_error_pattern": "Input should be a valid dictionary or instance of TS"
        },
        {
          "path": "ccda-samples/NextTech/8_20170710105504_SummaryOfCare.xml",
          "vendor": "NextTech",
          "reason": "Author.time incorrectly declares xsi:type='IVL_TS' but provides TS format (single value)",
          "spec_requirement": "C-CDA SHALL: author/time must be TS (point in time), not IVL_TS (interval)",
          "expected_error_pattern": "Input should be a valid dictionary or instance of TS"
        },
        {
          "path": "ccda-samples/NextTech/9_20170710104505_SummaryOfCare.xml",
          "vendor": "NextTech",
          "reason": "Author.time incorrectly declares xsi:type='IVL_TS' but provides TS format (single value)",
          "spec_requirement": "C-CDA SHALL: author/time must be TS (point in time), not IVL_TS (interval)",
          "expected_error_pattern": "Input should be a valid dictionary or instance of TS"
        },
        {
          "path": "ccda-samples/NextTech/Alice_Newman_RefNote.xml",
          "vendor": "NextTech",
          "reason": "Author.time incorrectly declares xsi:type='IVL_TS' but provides TS format (single value)",
          "spec_requirement": "C-CDA SHALL: author/time must be TS (point in time), not IVL_TS (interval)",
          "expected_error_pattern": "Input should be a valid dictionary or instance of TS"
        },
        {
          "path": "ccda-samples/NextTech/Cecilia_Cummings_75_000001.xml",
          "vendor": "NextTech",
          "reason": "Author.time incorrectly declares xsi:type='IVL_TS' but provides TS format (single value)",
          "spec_requirement": "C-CDA SHALL: author/time must be TS (point in time), not IVL_TS (interval)",
          "expected_error_pattern": "Input should be a valid dictionary or instance of TS"
        },
        {
          "path": "ccda-samples/NextTech/Jeremy_Bates_RefNote.xml",
          "vendor": "NextTech",
          "reason": "Author.time incorrectly declares xsi:type='IVL_TS' but provides TS format (single value)",
          "spec_requirement": "C-CDA SHALL: author/time must be TS (point in time), not IVL_TS (interval)",
          "expected_error_pattern": "Input should be a valid dictionary or instance of TS"
        },
        {
          "path": "ccda-samples/NextTech/Myra_Jones_73_000001.xml",
          "vendor": "NextTech",
          "reason": "Author.time incorrectly declares xsi:type='IVL_TS' but provides TS format (single value)",
          "spec_requirement": "C-CDA SHALL: author/time must be TS (point in time), not IVL_TS (interval)",
          "expected_error_pattern": "Input should be a valid dictionary or instance of TS"
        },
        {
          "path": "ccda-samples/NextTech/Susan_Turner_74_000001.xml",
          "vendor": "NextTech",
          "reason": "Author.time incorrectly declares xsi:type='IVL_TS' but provides TS format (single value)",
          "spec_requirement": "C-CDA SHALL: author/time must be TS (point in time), not IVL_TS (interval)",
          "expected_error_pattern": "Input should be a valid dictionary or instance of TS"
        }
      ]
    }
  }
}